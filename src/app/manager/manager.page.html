<ion-split-pane contentId="main-content" when="(min-width:1024px)">
  <ion-menu contentId="main-content" class="" (ionDidClose)="closeAllMenus()">
    <ion-header style="box-shadow: none">
      <ion-toolbar>
        <ion-title class="text-3xl">battuta</ion-title>
      </ion-toolbar>
    </ion-header>

    <ion-content class="ion-padding">
      <!-- Card de informações da empresa atual -->
      <ion-card class="company-card">
        <!-- Coluna: Nome e CNPJ -->
        <ion-label class="flex flex-col">
          <ion-text color="dark" class="text-sm font-bold p-0">
            Battuta Log
          </ion-text>
          <ion-note class="text-xs">00.000.000/0000-00</ion-note>
        </ion-label>

        <!-- Ícone à direita -->
        <svg
          stroke="currentColor"
          stroke-width="1.5"
          class="size-6"
          fill="none"
        >
          <use href="#chevron-down" />
        </svg>
      </ion-card>

      <!-- Lista de itens do menu -->
      <ion-list>
        @for (menuItem of menu; track menuItem.title) {
        <ion-item-group>
          <ion-item
            lines="none"
            routerDirection="root"
            (click)="hasChildren(menuItem) ? toggle(menuItem) : navigationByUrl(menuItem)"
            class="cursor-pointer"
          >
            <div class="menu">
              <!-- Ícone à esquerda -->
              <svg
                stroke="currentColor"
                stroke-width="1.5"
                class="size-6"
                fill="none"
              >
                <use [attr.href]="menuItem.icon" />
              </svg>

              <!-- Título e descrição -->
              <div class="menu-title">
                <ion-title class="text-sm font-bold p-0"
                  >{{ menuItem.title }}</ion-title
                >
                <ion-note class="text-[.65rem]">
                  {{ menuItem.description }}
                </ion-note>
              </div>
            </div>

            @if (hasChildren(menuItem)) {
            <svg
              stroke="currentColor"
              stroke-width="1.5"
              class="size-6"
              fill="none"
            >
              <use
                [attr.href]="menuItem.open ? '#chevron-up' : '#chevron-down'"
              />
            </svg>
            }
          </ion-item>

          <!-- Se o item tiver filhos, renderiza uma lista aninhada -->
          @if (hasChildren(menuItem) && menuItem.open){ @for (child of
          menuItem.children; track child.title) {
          <ion-item
            class="submenu cursor-pointer"
            lines="none"
            routerDirection="root"
            (click)="hasChildren(child) ? toggle(child) : navigationByUrl(child)"
          >
            <!-- Ícone à esquerda -->
            <svg
              stroke="currentColor"
              stroke-width="1.5"
              class="size-6"
              fill="none"
            >
              <use href="#ellipsis-horizontal-circle" />
            </svg>

            <!-- Título e descrição -->
            <div class="submenu-title">
              <ion-title class="text-sm font-bold p-0"
                >{{ child.title }}</ion-title
              >
              <ion-note class="text-[.65rem]">
                {{ child.description }}
              </ion-note>
            </div>
          </ion-item>
          } }
        </ion-item-group>
        }
      </ion-list>
    </ion-content>

    <ion-footer class="bg-white" style="box-shadow: none">
      <!-- Card de acesso e segurança -->
      <ion-card class="acess-e-security-card">
        <!-- Ícone à esquerda -->
        <svg
          stroke="currentColor"
          stroke-width="1.5"
          class="size-6 text-black"
          fill="none"
        >
          <use href="#lock-closed" />
        </svg>

        <!-- Título e descrição -->
        <ion-label class="flex flex-col ml-5">
          <ion-text color="dark" class="text-sm font-bold p-0">
            Acesso & Segurança
          </ion-text>
          <ion-note class="text-xs">Controle de acesso e segurança</ion-note>
        </ion-label>
      </ion-card>

      <!-- Gerenciar conta e sair -->
      <ion-card color="light" class="manager-account">
        <div class="flex flex-row items-center ml-1.5 space-x-1.5">
          <!-- Quaternário da Battuta -->
          <ion-icon
            src="assets/icons/battuta/quaternario-roxo.svg"
            class="w-10 h-5 mb-2"
          />

          <!-- Informações do Usuário -->
          <div class="flex flex-col items-start">
            <ion-text class="text-xs font-bold">Paulo Meirelles</ion-text>
            <ion-text class="text-xs">Diretor de Operações</ion-text>
          </div>
        </div>

        <ion-buttons class="flex flex-row justify-between">
          <ion-button class="manager-account-button">
            <!-- Título -->
            <ion-text class="text-[.65rem] font-bold">
              Gerenciar Conta
            </ion-text>

            <!-- Ícone à direita -->
            <svg
              stroke="currentColor"
              stroke-width="1.5"
              class="size-6"
              fill="none"
            >
              <use href="#cog-tooth" />
            </svg>
          </ion-button>
          <ion-button class="manager-account-button">
            <!-- Título -->
            <ion-label class="text-[.65rem] font-bold">Sair</ion-label>

            <!-- Ícone à direita -->
            <svg
              stroke="currentColor"
              stroke-width="1.5"
              class="size-6"
              fill="none"
            >
              <use href="#arrow-left-start-on" />
            </svg>
          </ion-button>
        </ion-buttons>
      </ion-card>
    </ion-footer>
  </ion-menu>

  <ion-router-outlet id="main-content">
    <!-- ao clicar em um item do menu, seu conteúdo (page) será renderizado aqui -->
  </ion-router-outlet>
</ion-split-pane>

<svg xmlns="http://www.w3.org/2000/svg" style="display: none">
  <symbol id="cog-tooth" viewBox="0 0 24 24">
    <path
      stroke-linecap="round"
      stroke-linejoin="round"
      d="M9.594 3.94c.09-.542.56-.94 1.11-.94h2.593c.55 0 1.02.398 1.11.94l.213 1.281c.063.374.313.686.645.87.074.04.147.083.22.127.325.196.72.257 1.075.124l1.217-.456a1.125 1.125 0 0 1 1.37.49l1.296 2.247a1.125 1.125 0 0 1-.26 1.431l-1.003.827c-.293.241-.438.613-.43.992a7.723 7.723 0 0 1 0 .255c-.008.378.137.75.43.991l1.004.827c.424.35.534.955.26 1.43l-1.298 2.247a1.125 1.125 0 0 1-1.369.491l-1.217-.456c-.355-.133-.75-.072-1.076.124a6.47 6.47 0 0 1-.22.128c-.331.183-.581.495-.644.869l-.213 1.281c-.09.543-.56.94-1.11.94h-2.594c-.55 0-1.019-.398-1.11-.94l-.213-1.281c-.062-.374-.312-.686-.644-.87a6.52 6.52 0 0 1-.22-.127c-.325-.196-.72-.257-1.076-.124l-1.217.456a1.125 1.125 0 0 1-1.369-.49l-1.297-2.247a1.125 1.125 0 0 1 .26-1.431l1.004-.827c.292-.24.437-.613.43-.991a6.932 6.932 0 0 1 0-.255c.007-.38-.138-.751-.43-.992l-1.004-.827a1.125 1.125 0 0 1-.26-1.43l1.297-2.247a1.125 1.125 0 0 1 1.37-.491l1.216.456c.356.133.751.072 1.076-.124.072-.044.146-.086.22-.128.332-.183.582-.495.644-.869l.214-1.28Z"
    />
    <path
      stroke-linecap="round"
      stroke-linejoin="round"
      d="M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"
    />
  </symbol>

  <symbol id="lock-closed" viewBox="0 0 24 24">
    <path
      stroke-linecap="round"
      stroke-linejoin="round"
      d="M16.5 10.5V6.75a4.5 4.5 0 1 0-9 0v3.75m-.75 11.25h10.5a2.25 2.25 0 0 0 2.25-2.25v-6.75a2.25 2.25 0 0 0-2.25-2.25H6.75a2.25 2.25 0 0 0-2.25 2.25v6.75a2.25 2.25 0 0 0 2.25 2.25Z"
    />
  </symbol>

  <symbol id="arrow-left-start-on" viewBox="0 0 24 24">
    <path
      stroke-linecap="round"
      stroke-linejoin="round"
      d="M8.25 9V5.25A2.25 2.25 0 0 1 10.5 3h6a2.25 2.25 0 0 1 2.25 2.25v13.5A2.25 2.25 0 0 1 16.5 21h-6a2.25 2.25 0 0 1-2.25-2.25V15m-3 0-3-3m0 0 3-3m-3 3H15"
    />
  </symbol>

  <symbol id="chevron-down" viewBox="0 0 24 24">
    <path
      stroke-linecap="round"
      stroke-linejoin="round"
      d="m19.5 8.25-7.5 7.5-7.5-7.5"
    />
  </symbol>

  <symbol id="chevron-up" viewBox="0 0 24 24">
    <path
      stroke-linecap="round"
      stroke-linejoin="round"
      d="m4.5 15.75 7.5-7.5 7.5 7.5"
    />
  </symbol>

  <symbol id="ellipsis-horizontal-circle" viewBox="0 0 24 24">
    <path
      stroke-linecap="round"
      stroke-linejoin="round"
      d="M8.625 12a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Zm0 0H8.25m4.125 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Zm0 0H12m4.125 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Zm0 0h-.375M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"
    />
  </symbol>
  <symbol id="book-open" viewBox="0 0 24 24">
    <path
      stroke-linecap="round"
      stroke-linejoin="round"
      d="M12 6.042A8.967 8.967 0 0 0 6 3.75c-1.052 0-2.062.18-3 .512v14.25A8.987 8.987 0 0 1 6 18c2.305 0 4.408.867 6 2.292m0-14.25a8.966 8.966 0 0 1 6-2.292c1.052 0 2.062.18 3 .512v14.25A8.987 8.987 0 0 0 18 18a8.967 8.967 0 0 0-6 2.292m0-14.25v14.25"
    />
  </symbol>
  <symbol id="arrows-right-left" viewBox="0 0 24 24">
    <path
      stroke-linecap="round"
      stroke-linejoin="round"
      d="M7.5 21 3 16.5m0 0L7.5 12M3 16.5h13.5m0-13.5L21 7.5m0 0L16.5 12M21 7.5H7.5"
    />
  </symbol>
  <symbol id="rectangle-stack">
    <path
      stroke-linecap="round"
      stroke-linejoin="round"
      d="M6 6.878V6a2.25 2.25 0 0 1 2.25-2.25h7.5A2.25 2.25 0 0 1 18 6v.878m-12 0c.235-.083.487-.128.75-.128h10.5c.263 0 .515.045.75.128m-12 0A2.25 2.25 0 0 0 4.5 9v.878m13.5-3A2.25 2.25 0 0 1 19.5 9v.878m0 0a2.246 2.246 0 0 0-.75-.128H5.25c-.263 0-.515.045-.75.128m15 0A2.25 2.25 0 0 1 21 12v6a2.25 2.25 0 0 1-2.25 2.25H5.25A2.25 2.25 0 0 1 3 18v-6c0-.98.626-1.813 1.5-2.122"
    />
  </symbol>
  <symbol id="cube-transparent">
    <path
      stroke-linecap="round"
      stroke-linejoin="round"
      d="m21 7.5-2.25-1.313M21 7.5v2.25m0-2.25-2.25 1.313M3 7.5l2.25-1.313M3 7.5l2.25 1.313M3 7.5v2.25m9 3 2.25-1.313M12 12.75l-2.25-1.313M12 12.75V15m0 6.75 2.25-1.313M12 21.75V19.5m0 2.25-2.25-1.313m0-16.875L12 2.25l2.25 1.313M21 14.25v2.25l-2.25 1.313m-13.5 0L3 16.5v-2.25"
    />
  </symbol>
</svg>
